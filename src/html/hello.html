<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFC Scanner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }

        #result {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>NFC Scanner</h1>
    <button id="scanButton">Сканировать NFC-карту</button>
    <h2 id="uid"></h2>
    <p id="info"></p>
    <div id="result"></div>

    <script>
        scanButton = document.getElementById("scanButton")
        uid = document.getElementById("uid")
        info = document.getElementById("info")

        scanButton.addEventListener("click", async () => {
            try {
                const ndef = new NDEFReader();
                await ndef.scan();

                ndef.addEventListener("readingerror", () => {
                    info.innerText = "Невозможно прочесть карту."
                });

                ndef.addEventListener("reading", ({ message, serialNumber }) => {
                    uid.innerText = `UID: ${serialNumber}`
                    // log(`> Records: (${message.records.length})`);
                });
            } catch (error) {
                info.innerText = "ОШИБКА! " + error;
            }
        });

        // function scanNFC() {
        //     // Здесь вы можете добавить код для взаимодействия с NFC, например, использовать библиотеку Web NFC API.
        //     // В данном примере, для целей демонстрации, мы просто симулируем получение UID.

        //     // Симуляция получения UID
        //     const fakeUID = '1234567890';

        //     // Отправка запроса на определенный адрес
        //     fetch('https://your-api-endpoint.com', {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/json'
        //         },
        //         body: JSON.stringify({ uid: fakeUID })
        //     })
        //     .then(response => response.json())
        //     .then(data => {
        //         // Вывод ответа на сайте
        //         document.getElementById('result').innerText = `Ответ от сервера: ${JSON.stringify(data)}`;
        //     })
        //     .catch(error => console.error('Ошибка:', error));
        // }
    </script>
</body>
</html>